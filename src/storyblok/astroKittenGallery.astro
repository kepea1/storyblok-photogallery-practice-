---
// import { storyblokEditable } from "@storyblok/astro";
const { blok } = Astro.props;
---

<div id="image-container-" class="border-2 border-red-600">
  <h1>{blok.heading}</h1>
  <h1>Astro Kitten Gallery</h1>
  <img
    id="image-kittens"
    src="/download-6.jpg"
    alt="kittens!"
    class="transition-opacity duration-1000 ease-in-out opacity-100"
  />
</div>

<script>
  const imageElement = document.getElementById("image-kittens");
  const imageArray = [
    "/download-6.jpg",
    "/download-2.jpg",
    "/download-3.jpg",
    "/download-4.jpg",
    "/download-5.jpg",
  ];
  let imageArrayIndex = 0;

  function fadeIn() {
    imageElement.classList.remove("opacity-0");
    imageElement.classList.add("opacity-100");
  }

  function fadeOut() {
    imageElement.classList.remove("opacity-100");
    imageElement.classList.add("opacity-0");
  }

  // Function to update the current image index
  function updateImageIndex() {
    fadeOut();
    setTimeout(() => {
      imageArrayIndex = (imageArrayIndex + 1) % imageArray.length;
      imageElement.src = imageArray[imageArrayIndex];
      fadeIn();
    }, 1000); // Wait for the fade-out to finish before changing the image and fading in
  }

  // Call the function every 10 seconds
  setInterval(updateImageIndex, 5000);
</script>
